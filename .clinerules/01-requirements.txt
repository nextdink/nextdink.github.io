Next Dink

Next Dink – MVP Requirements

Core Identity:
Next Dink is a structured, reliable way to organize serious pickleball games with controlled capacity and clear participation — eliminating group text chaos.

1. Authentication

Users can:
- Sign in with Google
- Sign in with Microsoft
- Sign up / sign in with email + password

User Profile:
- Unique system-generated user ID
- Display name
- Profile photo from OAuth provider (Google/Microsoft) if available
- Generated avatar for users without OAuth photos
  - Gradient background with vibrant, modern colors
  - User initials overlaid on the gradient
  - Subtle decorative pattern for visual uniqueness
  - Deterministic: same avatar generated for same user ID across all devices
  - Computed client-side based on user ID hash
  - No server storage required
- CreatedAt
- UpdatedAt

2. Users

Users can:
- View public profiles of other users
- Invite any user to events

3. Events

Users can:
- Create events
- View events they created
- View events they are invited to
- View events they joined (as team member)
- View public events (if visibility is Public)
- Share event using native device share functionality

Event Fields (Required):
- Name
- Date
- Start time
- End time
- Team Size (1-4 players per team, default 1 for individual registration)
- Number of Teams (how many teams/registrations allowed)
- Venue Name
- Address (selected via structured place search)

Event Fields (Optional):
- Description

Capacity Calculation:
- Total capacity = Team Size × Number of Teams
- Example: Team Size 2, Number of Teams 4 = 8 players total
- Note: Team size refers to how many people register together, not the game format
  - Individual registration (1) works for any game format (singles, doubles with rotating partners, etc.)
  - Group registration (2-4) allows friends to register together

Location Requirements:

When selecting a location:
- User searches using place autocomplete (e.g., Google Places or similar)
- User selects a structured result from dropdown
- Custom address entry is allowed if needed

For each event, system stores:
- Venue Name
- Formatted Address
- Latitude
- Longitude
- Place ID (optional)

Location Display:
- Venue Name and Address shown on event page
- Tapping location opens native Maps app (Apple Maps / Google Maps)
- On web, opens Google Maps in new tab

System Fields:
- CreatedAt
- UpdatedAt
- Status:
  - Active
  - Canceled
  - Completed

Event Visibility (Who Can See Event):
- Public
- Code-based
- Private (invite-only)

Event Join Type (How Users Join):
- Open (auto-join if space available)
- Invite-only

---

4. Registration System

When joining an event, users register as a group (or individually):

Registration:
- Each registration has a Captain (the user who created the registration)
- Registration has members equal to the event's Team Size
- Registrations are ordered by time (FIFO)

Member Types:
- User: The captain (registered user who created the registration)
- Guest: A name entered by the captain (person without an account)
- Open: "Looking for +1" - an unfilled slot that anyone can claim

Join Flow:
- If Team Size = 1: Instant join (no modal, single-person registration)
- If Team Size > 1: Modal appears to build team
  - First slot is automatically the joining user
  - Other slots can be: Guest name OR "Looking for +1"

Claiming Slots:
- Any user not already in the event can claim an Open or Guest slot
- Claiming a Guest slot replaces the guest with the registered user
- Claiming an Open slot fills the empty spot

Capacity & Waitlist Rules:
- Joined registrations = first N registrations where N = Number of Teams
- Waitlisted registrations = remaining registrations after capacity is full
- Waitlist order determined by registration timestamp (FIFO)
- If a joined registration leaves, first waitlisted one is auto-promoted
- Waitlist position calculated client-side from registrations array order

Leaving:
- If Captain leaves: Entire registration is removed from event
- If Group Member leaves: Their slot becomes "Open" (looking for +1)
- Note: In MVP with captain-only model, only captain is a registered user

Editing Registration:
- Only the Captain can edit their registration
- Captain can: Change guest names, mark slots as open
- Group members can only leave (which opens their slot)

---

5. Event Roles

Each event has:
- One Owner
- Zero or more Admins

Owner can:
- Invite individual users
- Invite entire list
- Remove registrations
- Promote users to admin
- Demote admins
- Remove admins
- Edit event details
- Cancel event

Admins can:
- Invite users
- Add other admins
- Remove registrations
- Edit event details

Rules:
- There can only be one Owner
- Admins can add other admins
- Only Owner can remove admins

Event Editing Rules:
- Events can be edited at any time while status is Active
- Events cannot be edited after status is Completed or Canceled
- Edits are allowed up until the event completion time

---

6. Lists (Private Invite Tool)

Each list has:
- Name
- Members
- One Owner
- Zero or more Admins
- CreatedAt
- UpdatedAt

Owner can:
- Add/remove members
- Promote users to admin
- Demote admins

Admins can:
- Add/remove members

Rules:
- Only Owner and Admins can view the list
- Only Owner and Admins can use list to bulk-invite
- There can only be one Owner
- List members cannot see that they are on a list
- Lists have no chat functionality

---

7. Notifications (Deferred - Not in MVP)

Notifications are planned for post-MVP. For MVP:
- Users check their Home page to see events they're part of
- Users check Event Detail page to see team status
- No push notifications or in-app notification center

Future notification triggers (post-MVP):
- Invited to event
- Someone claimed a slot on your team
- Your team was promoted from waitlist
- Event canceled
- Event updated